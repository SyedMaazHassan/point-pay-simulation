{% extends "dashboard/includes/base.html" %}
{% load static %}

{% block title %}
    {{ title }}
{% endblock title %}

{% block content %}

<div class="container-fluid" id="main-container">

    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800" style="font-size: 40px;"><b>{{ voucher.showDate }}</b></h1>
    </div>

    {% include "dashboard/includes/spinner.html" %}


    <div id="data" style="display: none;">

        {% if voucher  %}

            <div>
                <div class="row">
                    <div class="col-lg-8 col-md-12 col-xm-8 col-sm-12">

                                        
                        <!-- Content Row -->
                        <div class="row">

                            <!-- Earnings (Monthly) Card Example -->
                            <div class="col-xl-4 col-md-6 mb-4">
                                <div class="card google-shadow border-left-primary h-100 py-2">
                                    <div class="card-body">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-2">
                                                <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                    Revenue generated</div>
                                                <div class="h5 mb-0 font-weight-bold text-gray-800">
                                                    Rs. 15452
                                                </div>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Earnings (Monthly) Card Example -->
                            <div class="col-xl-4 col-md-6 mb-4">
                                <div class="card google-shadow border-left-success h-100 py-2">
                                    <div class="card-body">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-2">
                                                <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                    No. of paid student</div>
                                                <div class="h5 mb-0 font-weight-bold text-gray-800">1450</div>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-users fa-2x text-gray-300"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Earnings (Monthly) Card Example -->
                            <div class="col-xl-4 col-md-6 mb-4">
                                <div class="card google-shadow border-left-info h-100 py-2">
                                    <div class="card-body">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-2">
                                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                                                    % of student paid fee
                                                </div>
                                                <div class="row no-gutters align-items-center">
                                                    <div class="col-auto">
                                                        <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">22%</div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="progress progress-sm mr-2">
                                                            <div class="progress-bar bg-info" role="progressbar"
                                                                style="width: 22%" aria-valuenow="22" aria-valuemin="0"
                                                                aria-valuemax="100"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <div class="col-lg-12 col-md-12 col-xm-4 col-sm-12">
                                <div class="card mb-4 radius-10 google-shadow" >
                                    <!-- Card Header - Dropdown -->
                                    <div
                                        class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                        <h5 class="m-0 font-weight-bold text-dark">Fee received</h5>
                                        <div class="dropdown no-arrow">
        
                                            <a 
                                                class="dropdown-toggle" 
                                                role="button" 
                                                >
                                                <!-- <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i> -->
                                                <span class="material-icons text-secondary" style="font-size: 19px;">
                                                    cloud_download
                                                </span>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                                                aria-labelledby="dropdownMenuLink">
                                                <div class="dropdown-header">Dropdown Header:</div>
                                                <a class="dropdown-item" href="#">Action</a>
                                                <a class="dropdown-item" href="#">Another action</a>
                                                <div class="dropdown-divider"></div>
                                                <a class="dropdown-item" href="#">Something else here</a>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Card Body -->
                                    <div class="card-body">



                                        <div class="transaction-card card radius-10">
                                            <div class="row px-4">
                                                <div class="py-3 col-12 col-xl-5 col-lg-12 col-md-12 col-sm-5">
                                                    <div class="d-flex align-items-center">
                                                        <div>
                                                            <img src="{% static 'dashboard/img/user-profile-5.jpg' %}" style="border-radius: 100%; width: 50px;" alt="">
                                                        </div>
                                                        <div class="pl-3">
                                                            <span class="mb-1 badge badge-primary radius-100 px-2" style="font-size: 12px;">New</span>
                        
                                                            <div class="mb-0" style="font-size: 20px; font-weight: 650;">
                                                                Syed Maaz Hassan
                                                            </div>
                                                            <div class="font-size"  style="display: inline-block;">
                                                                CS-18054
                                                            </div>    
                                                        </div>
                                                    </div>
                        
                                                </div>
                        
                                                <div class="py-3 col-4 col-xl-2 col-lg-2 col-md-12 col-sm-4 d-flex align-items-center">
                                                    <div>
                                                        <div class="font-size text-secondary"><b>Status</b></div>
                                                        <div class="badge badge-success custom-success-background-color radius-100">Completed</div>
                                                    </div>
                                                </div>
                        
                                                <div class="py-3 col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12 d-flex align-items-center">
                                                    <div>
                                                        <div class="font-size text-secondary "><b>Paid at</b></div>
                                                        <div class="font-size">May 6, 2020 - 06:00 PM</div>
                                                    </div>
                                                </div>
                        
                                                <div class="d-flex align-items-center justify-content-center col-12 col-xl-1 col-md-1 col-lg-1 col-sm-12">
                                                    <div class="py-3 extra-icon ">
                                                        <i class="material-icons text-secondary" style="cursor: pointer;">arrow_forward_ios</i>
                                                    </div>
                                                </div>
                                            </div>
                                        
                                        </div>


                                        <div class="transaction-card card radius-10">
                                            <div class="row px-4">
                                                <div class="py-3 col-12 col-xl-5 col-lg-12 col-md-12 col-sm-5">
                                                    <div class="d-flex align-items-center">
                                                        <div>
                                                            <img src="{% static 'dashboard/img/user-profile-5.jpg' %}" style="border-radius: 100%; width: 50px;" alt="">
                                                        </div>
                                                        <div class="pl-3">
                                                            <span class="mb-1 badge badge-primary radius-100 px-2" style="font-size: 12px;">New</span>
                        
                                                            <div class="mb-0" style="font-size: 20px; font-weight: 650;">
                                                                Syed Maaz Hassan
                                                            </div>
                                                            <div class="font-size"  style="display: inline-block;">
                                                                CS-18054
                                                            </div>    
                                                        </div>
                                                    </div>
                        
                                                </div>
                        
                                                <div class="py-3 col-4 col-xl-2 col-lg-2 col-md-12 col-sm-12 d-flex align-items-center">
                                                    <div>
                                                        <div class="font-size text-secondary"><b>Status</b></div>
                                                        <div class="badge badge-success custom-success-background-color radius-100">Completed</div>
                                                    </div>
                                                </div>
                        
                                                <div class="py-3 col-12 col-xl-4 col-lg-4 col-md-4 col-sm-12 d-flex align-items-center">
                                                    <div style="width: fit-content;">
                                                        <div class="font-size text-secondary "><b>Paid at</b></div>
                                                        <div class="font-size">May 6, 2020 - 06:00 PM</div>
                                                    </div>
                                                </div>
                        
                                                <div class="d-flex align-items-center justify-content-center col-12 col-xl-1 col-md-1 col-lg-1 col-sm-12">
                                                    <div class="py-3 extra-icon ">
                                                        <i class="material-icons text-secondary" style="cursor: pointer;">arrow_forward_ios</i>
                                                    </div>
                                                </div>
                                            </div>
                                        
                                        </div>


<!--                                        
                                        <div class="scrollmenu">
                                            <div class="transaction-card radius-10">
                                                asidfhgs
                                            </div>

                                            <div class="transaction-card">
                                                asidfhgs
                                            </div>

                                            <div class="transaction-card">
                                                asidfhgs
                                            </div>

                                            <div class="transaction-card">
                                                asidfhgs
                                            </div>

                                            <div class="transaction-card">
                                                asidfhgs
                                            </div>
                                          </div> -->
                                    
                                    </div>
                                </div>
                            </div>


                            

                            <!-- Pending Requests Card Example -->
                            <!-- <div class="col-xl-4 col-md-6 mb-4">
                                <div class="card border-left-warning h-100 py-2">
                                    <div class="card-body">
                                        <div class="row no-gutters align-items-center">
                                            <div class="col mr-2">
                                                <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                                    Pending Requests</div>
                                                <div class="h5 mb-0 font-weight-bold text-gray-800">18</div>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-comments fa-2x text-gray-300"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                        </div>

                        <!-- Content Row -->

                        
                    </div>

                    <div class="col-lg-4 col-md-12 col-xm-4 col-sm-12">
                        <div class="card mb-4 radius-10 google-shadow" >
                            <!-- Card Header - Dropdown -->
                            <div
                                class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h5 class="m-0 font-weight-bold text-primary">Voucher</h5>
                                <div class="dropdown no-arrow">
                                    <div v-on:click="downloadVoucher()">
                                        <a 
                                            class="dropdown-toggle" 
                                            role="button" 
                                            >
                                            <!-- <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i> -->
                                            <span 
                                                class="material-icons text-secondary" style="font-size: 19px;">
                                                file_download
                                            </span>
                                        </a>
                                    </div>
 
                                    <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                                        aria-labelledby="dropdownMenuLink">
                                        <div class="dropdown-header">Dropdown Header:</div>
                                        <a class="dropdown-item" href="#">Action</a>
                                        <a class="dropdown-item" href="#">Another action</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                    </div>
                                </div>
                            </div>
                            <!-- Card Body -->
                            <div class="card-body">
                                <div>
                                    <div class="text-right">
                                        {% if voucher.is_expired %}
                                        <span class="badge badge-danger my-voucher-badge">Expired</span>
                                        {% else %}
                                        <span v-else class="badge badge-success my-voucher-badge">Available</span>
                                        {% endif %}
                                    </div>

                                    <div class="text-center" id="area-to-download">

                                        <h1 class="my-2 mb-0 text-center"><b>SCAN ME</b></h1>
                                    
                                        <div class="text-center py-0">
                                            <img src="media/{{voucher.qr_code_picture}}" id="my-qr-code" style="width: 100%" alt="">
                                        </div>

                                        <div class="my-2">
                                            <!-- <h5 class="mb-3">{{ user_info.organization.name }}</h5> -->
                                            <h3><b>fee voucher Rs. {{ voucher.price }}/=</h3>
                                            <h2 class="mt-2">
                                                <b>
                                                    <span id="month-name">{{ voucher.dateDict.month }}</span>, 
                                                    <span id="year-name">{{ voucher.dateDict.year }}</span>
                                                </b>
                                            </h2>
                                        </div>

                                    </div>

                                </div>

                            
                            </div>
                        </div>
                    </div>
                </div>
                
            
            </div>

        {% else %}

            <div class="alert alert-danger radius-100 text-center" role="alert">
                No Voucher exists with this query
            </div>

        {% endif %}

    </div>


</div>


<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
<script>
    var url = {
        // get_voucher_history: "{% url 'dashboard:get_voucher_history' %}",
    }
</script>
<script src="{% static 'dashboard/js/admin/particular-voucher.js' %}"></script>



{% endblock content %}